#include "Memories.h"

// Memory 3 (Unlocked via the medical reports)
void memory_3()
{
	music_mem3.play();	MyText.clearOld();

	MyText.printText("Standing at the precipice of our dreams...", 70, GREY, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("The moonlight bathed the scene in a melancholic glow as we confronted the harsh reality of this world...", 70, GREY, 0, 0, 1, 1); pause(); MyText.clearOld();

	MyText.printText("\"Nell, I know this is hard.\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();
	MyText.printText("\"But I think it's important that we keep the house.\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();

	MyText.printText("\"Adrian...We already talked about this.\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"You must realize by now that selling the house is the only way!\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();

	MyText.printText("\"Nell, we can't do that...\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();
	MyText.printText("\"This place is your dream...and I can't take that away from you.\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC);pause(); MyText.clearOld();

	MyText.printText("\"I know that!\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"But dreams can't save you...\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();

	MyText.printText("\"There has to be another way, Nell.\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();
	MyText.printText("\"Trust me...\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();
	MyText.printText("\"We'll find a way out of this...\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();

	MyText.printText("\"We've searched enough already...\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"There's no other way.\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"I can't watch you suffer anymore.\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();

	MyText.printText("\"So what? You're just going to erase everything we've built?\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();
	MyText.printText("\"Everything we've been through?\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();

	MyText.printText("\"I don't want to erase anything, Adrian.\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"But we can't live in this fairy tale while reality crumbles around us!\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();

	MyText.printText("\"But this place meant everything to you!\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();

	MyText.printText("\"I KNOW!\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"I know...\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"But we have to make sacrifices to survive, Adrian.\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"Why can't you see that...\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();

	MyText.printText("The cliffside that we once adored, turned into a silhouette of its former self.", 70, GREY, 0, 0, 1, 1); pause(); MyText.clearOld();

	MyText.printText("\"You're willing to throw away our dreams for the money?\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();

	MyText.printText("\"I'm willing to do whatever it takes to save you!\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"But you're so blinded by your dreams that you can't even see the truth...\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();

	MyText.printText("\"If that's how it is...\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();
	MyText.printText("\"Then maybe I should just leave...\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();
	MyText.printText("\"Maybe then you can sell the damn house and save yourself from the burden of taking care of me.\"", 50, WHITE, 0, 0, 1, 1, FONT_SIZE, false, ITALIC); pause(); MyText.clearOld();

	MyText.printText("\"Maybe you should!\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();
	MyText.printText("\"Maybe this house is better off without someone who's so unwilling to fight for their own life.\"", 55, WHITE, 0, 0, 1, 1, FONT_SIZE, false); pause(); MyText.clearOld();

	MyText.printText("I saw him leave.", 70, GREY, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("I held the power to stop him.", 70, GREY, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("Yet, I couldn't...", 70, GREY, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("I stood there alone, amidst the empty cliffside.", 70, GREY, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("Surrounded by the shattered remnants of a dream that once held so much promise...", 70, GREY, 0, 0, 1, 1); pause(1);

	fadeOut();
	MyText.clearOld();
	// Music STOPPU
	for (float i = 100; i >= 0; i = i - 1) {
		music_mem3.setVolume(i);
		Sleep(30);
	}
	music_mem3.stop();

	sleep(700); interest++;
}

void memory_3_End() {

	int cursor_x, cursor_y, pos, button;

	falke.play(); sleep(300);

	MyText.clearOld();

	MyText.printText("Hey Nell.", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("It's me, Mark.", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("I just wanted to check in on you.", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("...", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("I heard about Adrian...", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("I know it's been tough, Nell.", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("How are you holding up?", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("No, it was not your fault.", 80, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("You can't blame yourself for it.", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("...", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("Hey Nell?", 100, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("Are you still there?", 90, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("Are you there Nell?", 100, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();
	MyText.printText("Nell?", 150, WHITE, 0, 0, 1, 1); pause(); MyText.clearOld();

	MyText.printText("Take Knife", 80, RED, 0, 0, 1, 1, FONT_SIZE);

	cursor_x = MID_X - 120;
	cursor_y = MID_Y - (FONT_SIZE / 2);
	pos = 0;

	while (1) {
		handleEvents();

		MyText.clearOld();
		MyText.printText("Take Knife", 80, RED, 0, 0, 1, 1, FONT_SIZE, true);

		button = printCursor(cursor_x, cursor_y);
		sleep(200);

		if (button == 2)
			break;
	}

	hasKnife = true;
	falke.stop(); MyText.clearOld(); MyText.printText("", 0); sleep(2000);
	//window->clear(); window->display();
}